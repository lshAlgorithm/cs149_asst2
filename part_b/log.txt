create taskqueue	Run()DEBUG=== I go to sleep when waiting is empty	sleep in sleep	sleep in sleep	sleep in sleep	sleep in sleep	sleep in sleep	sleep in sleep	sleep in sleep	new big task id is 0	create taskstate	deconstruct in taskstate	Run()DEBUG=== Someone wake me up. THX	Run()DEBUG=== I am going to check the task dependency, and the que size is :1	deconstruct in taskstate	Run()DEBUG===You get false before the loop?	Run()DEBUG=== Check finished, I have a task to go	Run()DEBUG=== Ready to push the task	deconstruct in subtask	deconstruct in subtask	deconstruct in subtask	Run()DEBUG=== I wake you up, sleepy thread!!!	new big task id is 1	create taskstate	deconstruct in taskstate	wake up in sleep	deconstruct in taskstate	deconstruct in subtask	GOING TO SOLVE in sleep	wake up in sleep	deconstruct in subtask	WTF? Can anyone help me?	I run id = GOING TO SOLVE in sleep	0, tot = 3	deconstruct in subtask	WTF? Can anyone help me?	I run id = 1, tot = 3	deconstruct in subtask	deconstruct in subtask	wake up in sleep	GOING TO SOLVE in sleep	WTF? Can anyone help me?	I run id = 2, tot = 3	sleep in sleep	wake up in sleep	sleep in sleep	wake up in sleep	sleep in sleep	deconstruct in subtask	sleep in sleep	sleep in sleep	wake up in sleep	sleep in sleep	wake up in sleep	sleep in sleep	==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Write of size 8 at 0x720c000002a0 by thread T1:
    #0 operator delete(void*) <null> (libtsan.so.2+0x9f8ab) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 TaskState::~TaskState() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:146 (runtasks+0x40dcf6) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:367 (runtasks+0x410724) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #4 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #5 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #6 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #8 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Previous write of size 8 at 0x720c000002a0 by main thread (mutexes: write M0):
    #0 TaskState::TaskState(int, IRunnable*, int, std::vector<int, std::allocator<int> > const&) /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:140 (runtasks+0x40feb1) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 TaskSystemParallelThreadPoolSleeping::runAsyncWithDeps(IRunnable*, int, std::vector<int, std::allocator<int> > const&) /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:385 (runtasks+0x40feb1)
    #2 simpleTest(ITaskSystem*, bool) ../tests/tests.h:530 (runtasks+0x405e0f) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 simpleTestAsync(ITaskSystem*) ../tests/tests.h:567 (runtasks+0x406081) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #4 main ../tests/main.cpp:173 (runtasks+0x403c14) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Mutex M0 (0x720c00000120) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x410290) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x410290)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/14/bits/unique_lock.h:147 (runtasks+0x410290)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/14/bits/unique_lock.h:73 (runtasks+0x410290)
    #5 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:317 (runtasks+0x410290)
    #6 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #7 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #8 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #9 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #11 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T1 (tid=1664108, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race (/lib64/libtsan.so.2+0x9f8ab) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf) in operator delete(void*)
==================
Run()DEBUG=== I am going to check the task dependency, and the que size is :1	==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Write of size 8 at 0x7f5fcf3ff610 by thread T1 (mutexes: write M0):
    #0 TaskState::TaskState(TaskState const&) /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.h:69 (runtasks+0x4103ee) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:336 (runtasks+0x4103ee)
    #2 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #4 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #5 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #7 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Previous read of size 8 at 0x7f5fcf3ff610 by thread T4:
    #0 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:277 (runtasks+0x40f07e) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #3 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #4 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #5 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #6 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Location is stack of thread T1.

  Mutex M0 (0x720c00000120) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x410290) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x410290)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/14/bits/unique_lock.h:147 (runtasks+0x410290)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/14/bits/unique_lock.h:73 (runtasks+0x410290)
    #5 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:317 (runtasks+0x410290)
    #6 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #7 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #8 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #9 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #11 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T1 (tid=1664108, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Thread T4 (tid=1664111, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.h:69 in TaskState::TaskState(TaskState const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Write of size 4 at 0x7f5fcf3ff618 by thread T1 (mutexes: write M0):
    #0 TaskState::TaskState(TaskState const&) /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.h:69 (runtasks+0x410409) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:336 (runtasks+0x410409)
    #2 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #4 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #5 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #7 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Previous read of size 4 at 0x7f5fcf3ff618 by thread T4 (mutexes: write M1):
    #0 unsigned long std::__detail::_Hash_code_base<int, int, std::__detail::_Identity, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, false>::_M_hash_code_tr<int>(int const&) const /usr/include/c++/14/bits/hashtable_policy.h:1344 (runtasks+0x40f186) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:2325 (runtasks+0x40f186)
    #2 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_aux<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:944 (runtasks+0x40f186)
    #3 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:956 (runtasks+0x40f186)
    #4 std::__detail::_Insert_base<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::insert(int const&) /usr/include/c++/14/bits/hashtable_policy.h:958 (runtasks+0x40f186)
    #5 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::insert(int const&) /usr/include/c++/14/bits/unordered_set.h:429 (runtasks+0x40f186)
    #6 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:283 (runtasks+0x40f186)
    #7 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #8 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #9 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #10 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #12 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Location is stack of thread T1.

  Mutex M0 (0x720c00000120) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x410290) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x410290)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/14/bits/unique_lock.h:147 (runtasks+0x410290)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/14/bits/unique_lock.h:73 (runtasks+0x410290)
    #5 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:317 (runtasks+0x410290)
    #6 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #7 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #8 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #9 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #11 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Mutex M1 (0x720c000002a0) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40f086) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40f086)
    #3 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:277 (runtasks+0x40f086)
    #4 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #6 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #7 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #9 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T1 (tid=1664108, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Thread T4 (tid=1664111, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.h:69 in TaskState::TaskState(TaskState const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Write of size 4 at 0x7f5fcf3ff620 by thread T1 (mutexes: write M0):
    #0 TaskState::TaskState(TaskState const&) /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.h:69 (runtasks+0x41043d) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:336 (runtasks+0x41043d)
    #2 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #4 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #5 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #7 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Previous read of size 4 at 0x7f5fcf3ff620 by thread T3 (mutexes: write M1):
    #0 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:279 (runtasks+0x40f0e4) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #3 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #4 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #5 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #6 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Location is stack of thread T1.

  Mutex M0 (0x720c00000120) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x410290) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x410290)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/14/bits/unique_lock.h:147 (runtasks+0x410290)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/14/bits/unique_lock.h:73 (runtasks+0x410290)
    #5 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:317 (runtasks+0x410290)
    #6 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #7 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #8 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #9 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #11 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Mutex M1 (0x720c000002a0) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40f086) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40f086)
    #3 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:277 (runtasks+0x40f086)
    #4 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #6 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #7 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #9 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T1 (tid=1664108, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Thread T3 (tid=1664110, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.h:69 in TaskState::TaskState(TaskState const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Write of size 8 at 0x7f5fcf3ff628 by thread T1 (mutexes: write M0):
    #0 TaskState::TaskState(TaskState const&) /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.h:69 (runtasks+0x410472) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:336 (runtasks+0x410472)
    #2 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #4 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #5 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #7 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Previous read of size 8 at 0x7f5fcf3ff628 by thread T4 (mutexes: write M1):
    #0 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:280 (runtasks+0x40edfa) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #3 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #4 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #5 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #6 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Location is stack of thread T1.

  Mutex M0 (0x720c00000120) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x410290) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x410290)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/14/bits/unique_lock.h:147 (runtasks+0x410290)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/14/bits/unique_lock.h:73 (runtasks+0x410290)
    #5 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:317 (runtasks+0x410290)
    #6 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #7 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #8 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #9 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #11 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Mutex M1 (0x720c000002a0) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40f086) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40f086)
    #3 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:277 (runtasks+0x40f086)
    #4 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #6 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #7 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #9 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T1 (tid=1664108, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Thread T4 (tid=1664111, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.h:69 in TaskState::TaskState(TaskState const&)
==================
deconstruct in taskstate	==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Write of size 8 at 0x721400000060 by thread T1 (mutexes: write M0):
    #0 std::deque<TaskState, std::allocator<TaskState> >::pop_front() /usr/include/c++/14/bits/stl_deque.h:1582 (runtasks+0x4105e1) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 std::queue<TaskState, std::deque<TaskState, std::allocator<TaskState> > >::pop() /usr/include/c++/14/bits/stl_queue.h:319 (runtasks+0x4105e1)
    #2 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:337 (runtasks+0x4105e1)
    #3 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #4 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #5 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #6 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #8 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Previous read of size 8 at 0x721400000060 by main thread (mutexes: write M1):
    #0 std::operator==(std::_Deque_iterator<TaskState, TaskState&, TaskState*> const&, std::_Deque_iterator<TaskState, TaskState&, TaskState*> const&) /usr/include/c++/14/bits/stl_deque.h:273 (runtasks+0x40ebd3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 std::deque<TaskState, std::allocator<TaskState> >::empty() const /usr/include/c++/14/bits/stl_deque.h:1348 (runtasks+0x40ebd3)
    #2 std::queue<TaskState, std::deque<TaskState, std::allocator<TaskState> > >::empty() const /usr/include/c++/14/bits/stl_queue.h:217 (runtasks+0x40ebd3)
    #3 TaskSystemParallelThreadPoolSleeping::sync() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:406 (runtasks+0x40ebd3)
    #4 simpleTest(ITaskSystem*, bool) ../tests/tests.h:531 (runtasks+0x405e2b) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 simpleTestAsync(ITaskSystem*) ../tests/tests.h:567 (runtasks+0x406081) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #6 main ../tests/main.cpp:173 (runtasks+0x403c14) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Location is heap block of size 80 at 0x721400000050 allocated by main thread:
    #0 operator new(unsigned long) <null> (libtsan.so.2+0xa0306) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 TaskQueue::TaskQueue() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:178 (runtasks+0x40e311) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 TaskSystemParallelThreadPoolSleeping::TaskSystemParallelThreadPoolSleeping(int) /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:205 (runtasks+0x40f98a) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #4 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Mutex M0 (0x720c00000120) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x410290) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x410290)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/14/bits/unique_lock.h:147 (runtasks+0x410290)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/14/bits/unique_lock.h:73 (runtasks+0x410290)
    #5 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:317 (runtasks+0x410290)
    #6 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #7 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #8 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #9 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #11 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Mutex M1 (0x720c000001b0) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40eb8c) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40eb8c)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/14/bits/unique_lock.h:147 (runtasks+0x40eb8c)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/14/bits/unique_lock.h:73 (runtasks+0x40eb8c)
    #5 TaskSystemParallelThreadPoolSleeping::sync() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:405 (runtasks+0x40eb8c)
    #6 simpleTest(ITaskSystem*, bool) ../tests/tests.h:531 (runtasks+0x405e2b) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #7 simpleTestAsync(ITaskSystem*) ../tests/tests.h:567 (runtasks+0x406081) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #8 main ../tests/main.cpp:173 (runtasks+0x403c14) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Thread T1 (tid=1664108, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/14/bits/stl_deque.h:1582 in std::deque<TaskState, std::allocator<TaskState> >::pop_front()
==================
Run()DEBUG===You get false before the loop?	==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Read of size 8 at 0x7210000001d8 by thread T1 (mutexes: write M0):
    #0 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::size() const /usr/include/c++/14/bits/hashtable.h:657 (runtasks+0x410674) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::find(int const&) /usr/include/c++/14/bits/hashtable.h:1728 (runtasks+0x410674)
    #2 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::find(int const&) /usr/include/c++/14/bits/unordered_set.h:658 (runtasks+0x410674)
    #3 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:341 (runtasks+0x410674)
    #4 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #6 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #7 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #9 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Previous write of size 8 at 0x7210000001d8 by thread T4 (mutexes: write M1):
    #0 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_node(unsigned long, unsigned long, std::__detail::_Hash_node<int, false>*, unsigned long) /usr/include/c++/14/bits/hashtable.h:2246 (runtasks+0x40f78a) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:2339 (runtasks+0x40f78a)
    #2 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_aux<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:944 (runtasks+0x40f78a)
    #3 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:956 (runtasks+0x40f78a)
    #4 std::__detail::_Insert_base<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::insert(int const&) /usr/include/c++/14/bits/hashtable_policy.h:958 (runtasks+0x40f78a)
    #5 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::insert(int const&) /usr/include/c++/14/bits/unordered_set.h:429 (runtasks+0x40f78a)
    #6 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:283 (runtasks+0x40f78a)
    #7 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #8 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #9 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #10 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #12 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Location is heap block of size 56 at 0x7210000001c0 allocated by main thread:
    #0 operator new(unsigned long) <null> (libtsan.so.2+0xa0306) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 TaskSystemParallelThreadPoolSleeping::TaskSystemParallelThreadPoolSleeping(int) /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:207 (runtasks+0x40f9c3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Mutex M0 (0x720c00000120) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x410290) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x410290)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/14/bits/unique_lock.h:147 (runtasks+0x410290)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/14/bits/unique_lock.h:73 (runtasks+0x410290)
    #5 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:317 (runtasks+0x410290)
    #6 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #7 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #8 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #9 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #11 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Mutex M1 (0x720c000002a0) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40f086) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40f086)
    #3 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:277 (runtasks+0x40f086)
    #4 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #6 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #7 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #9 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T1 (tid=1664108, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Thread T4 (tid=1664111, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/14/bits/hashtable.h:657 in std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::size() const
==================
==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Read of size 8 at 0x7210000001c8 by thread T1 (mutexes: write M0):
    #0 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:368 (runtasks+0x410778) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #3 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #4 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #5 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #6 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Previous write of size 8 at 0x7210000001c8 by thread T4 (mutexes: write M1):
    #0 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_rehash(unsigned long, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:2651 (runtasks+0x40f4a2) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_node(unsigned long, unsigned long, std::__detail::_Hash_node<int, false>*, unsigned long) /usr/include/c++/14/bits/hashtable.h:2237 (runtasks+0x40f4a2)
    #2 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:2339 (runtasks+0x40f4a2)
    #3 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_aux<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:944 (runtasks+0x40f4a2)
    #4 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:956 (runtasks+0x40f4a2)
    #5 std::__detail::_Insert_base<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::insert(int const&) /usr/include/c++/14/bits/hashtable_policy.h:958 (runtasks+0x40f4a2)
    #6 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::insert(int const&) /usr/include/c++/14/bits/unordered_set.h:429 (runtasks+0x40f4a2)
    #7 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:283 (runtasks+0x40f4a2)
    #8 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #9 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #10 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #11 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #12 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #13 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Location is heap block of size 56 at 0x7210000001c0 allocated by main thread:
    #0 operator new(unsigned long) <null> (libtsan.so.2+0xa0306) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 TaskSystemParallelThreadPoolSleeping::TaskSystemParallelThreadPoolSleeping(int) /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:207 (runtasks+0x40f9c3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Mutex M0 (0x720c00000120) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x410290) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x410290)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/14/bits/unique_lock.h:147 (runtasks+0x410290)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/14/bits/unique_lock.h:73 (runtasks+0x410290)
    #5 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:317 (runtasks+0x410290)
    #6 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #7 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #8 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #9 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #11 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Mutex M1 (0x720c000002a0) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40f086) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40f086)
    #3 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:277 (runtasks+0x40f086)
    #4 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #6 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #7 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #9 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T1 (tid=1664108, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Thread T4 (tid=1664111, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:368 in TaskSystemParallelThreadPoolSleeping::Run()
==================
==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Read of size 8 at 0x7210000001c0 by thread T1 (mutexes: write M0):
    #0 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:368 (runtasks+0x410784) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #3 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #4 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #5 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #6 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Previous write of size 8 at 0x7210000001c0 by thread T4 (mutexes: write M1):
    #0 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_rehash(unsigned long, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:2652 (runtasks+0x40f4b3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_node(unsigned long, unsigned long, std::__detail::_Hash_node<int, false>*, unsigned long) /usr/include/c++/14/bits/hashtable.h:2237 (runtasks+0x40f4b3)
    #2 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:2339 (runtasks+0x40f4b3)
    #3 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_aux<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:944 (runtasks+0x40f4b3)
    #4 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:956 (runtasks+0x40f4b3)
    #5 std::__detail::_Insert_base<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::insert(int const&) /usr/include/c++/14/bits/hashtable_policy.h:958 (runtasks+0x40f4b3)
    #6 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::insert(int const&) /usr/include/c++/14/bits/unordered_set.h:429 (runtasks+0x40f4b3)
    #7 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:283 (runtasks+0x40f4b3)
    #8 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #9 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #10 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #11 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #12 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #13 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Location is heap block of size 56 at 0x7210000001c0 allocated by main thread:
    #0 operator new(unsigned long) <null> (libtsan.so.2+0xa0306) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 TaskSystemParallelThreadPoolSleeping::TaskSystemParallelThreadPoolSleeping(int) /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:207 (runtasks+0x40f9c3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Mutex M0 (0x720c00000120) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x410290) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x410290)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/14/bits/unique_lock.h:147 (runtasks+0x410290)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/14/bits/unique_lock.h:73 (runtasks+0x410290)
    #5 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:317 (runtasks+0x410290)
    #6 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #7 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #8 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #9 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #11 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Mutex M1 (0x720c000002a0) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40f086) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40f086)
    #3 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:277 (runtasks+0x40f086)
    #4 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #6 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #7 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #9 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T1 (tid=1664108, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Thread T4 (tid=1664111, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:368 in TaskSystemParallelThreadPoolSleeping::Run()
==================
==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Read of size 8 at 0x721c00000000 by thread T1 (mutexes: write M0):
    #0 TaskSystemParallelThreadPoolSleeping::Run() /usr/include/c++/14/bits/hashtable.h:2067 (runtasks+0x4107a0) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #3 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #4 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #5 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #6 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Previous write of size 8 at 0x721c00000000 by thread T4 (mutexes: write M1):
    #0 memset <null> (libtsan.so.2+0x862e8) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<int, false> > >::_M_allocate_buckets(unsigned long) /usr/include/c++/14/bits/hashtable_policy.h:2075 (runtasks+0x40f325) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_allocate_buckets(unsigned long) /usr/include/c++/14/bits/hashtable.h:447 (runtasks+0x40f325)
    #3 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_rehash(unsigned long, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:2623 (runtasks+0x40f325)
    #4 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_node(unsigned long, unsigned long, std::__detail::_Hash_node<int, false>*, unsigned long) /usr/include/c++/14/bits/hashtable.h:2237 (runtasks+0x40f325)
    #5 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:2339 (runtasks+0x40f325)
    #6 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_aux<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:944 (runtasks+0x40f325)
    #7 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:956 (runtasks+0x40f325)
    #8 std::__detail::_Insert_base<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::insert(int const&) /usr/include/c++/14/bits/hashtable_policy.h:958 (runtasks+0x40f325)
    #9 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::insert(int const&) /usr/include/c++/14/bits/unordered_set.h:429 (runtasks+0x40f325)
    #10 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:283 (runtasks+0x40f325)
    #11 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #12 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #13 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #14 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #15 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #16 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Location is heap block of size 104 at 0x721c00000000 allocated by thread T4:
    #0 operator new(unsigned long) <null> (libtsan.so.2+0xa0306) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::__new_allocator<std::__detail::_Hash_node_base*>::allocate(unsigned long, void const*) /usr/include/c++/14/bits/new_allocator.h:151 (runtasks+0x40f313) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::allocator_traits<std::allocator<std::__detail::_Hash_node_base*> >::allocate(std::allocator<std::__detail::_Hash_node_base*>&, unsigned long) /usr/include/c++/14/bits/alloc_traits.h:478 (runtasks+0x40f313)
    #3 std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<int, false> > >::_M_allocate_buckets(unsigned long) /usr/include/c++/14/bits/hashtable_policy.h:2073 (runtasks+0x40f313)
    #4 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_allocate_buckets(unsigned long) /usr/include/c++/14/bits/hashtable.h:447 (runtasks+0x40f313)
    #5 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_rehash(unsigned long, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:2623 (runtasks+0x40f313)
    #6 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_node(unsigned long, unsigned long, std::__detail::_Hash_node<int, false>*, unsigned long) /usr/include/c++/14/bits/hashtable.h:2237 (runtasks+0x40f313)
    #7 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:2339 (runtasks+0x40f313)
    #8 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_aux<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:944 (runtasks+0x40f313)
    #9 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:956 (runtasks+0x40f313)
    #10 std::__detail::_Insert_base<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::insert(int const&) /usr/include/c++/14/bits/hashtable_policy.h:958 (runtasks+0x40f313)
    #11 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::insert(int const&) /usr/include/c++/14/bits/unordered_set.h:429 (runtasks+0x40f313)
    #12 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:283 (runtasks+0x40f313)
    #13 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #14 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #15 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #16 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #17 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #18 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Mutex M0 (0x720c00000120) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x410290) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x410290)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/14/bits/unique_lock.h:147 (runtasks+0x410290)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/14/bits/unique_lock.h:73 (runtasks+0x410290)
    #5 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:317 (runtasks+0x410290)
    #6 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #7 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #8 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #9 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #11 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Mutex M1 (0x720c000002a0) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40f086) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40f086)
    #3 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:277 (runtasks+0x40f086)
    #4 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #6 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #7 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #9 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T1 (tid=1664108, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Thread T4 (tid=1664111, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/14/bits/hashtable.h:2067 in TaskSystemParallelThreadPoolSleeping::Run()
==================
==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Read of size 8 at 0x7210000001d0 by thread T1 (mutexes: write M0):
    #0 TaskSystemParallelThreadPoolSleeping::Run() /usr/include/c++/14/bits/hashtable.h:2071 (runtasks+0x4107b0) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #3 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #4 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #5 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #6 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Previous write of size 8 at 0x7210000001d0 by thread T4 (mutexes: write M1):
    #0 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_rehash(unsigned long, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:2625 (runtasks+0x40f349) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_node(unsigned long, unsigned long, std::__detail::_Hash_node<int, false>*, unsigned long) /usr/include/c++/14/bits/hashtable.h:2237 (runtasks+0x40f349)
    #2 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:2339 (runtasks+0x40f349)
    #3 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_aux<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:944 (runtasks+0x40f349)
    #4 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:956 (runtasks+0x40f349)
    #5 std::__detail::_Insert_base<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::insert(int const&) /usr/include/c++/14/bits/hashtable_policy.h:958 (runtasks+0x40f349)
    #6 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::insert(int const&) /usr/include/c++/14/bits/unordered_set.h:429 (runtasks+0x40f349)
    #7 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:283 (runtasks+0x40f349)
    #8 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #9 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #10 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #11 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #12 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #13 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Location is heap block of size 56 at 0x7210000001c0 allocated by main thread:
    #0 operator new(unsigned long) <null> (libtsan.so.2+0xa0306) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 TaskSystemParallelThreadPoolSleeping::TaskSystemParallelThreadPoolSleeping(int) /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:207 (runtasks+0x40f9c3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Mutex M0 (0x720c00000120) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x410290) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x410290)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/14/bits/unique_lock.h:147 (runtasks+0x410290)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/14/bits/unique_lock.h:73 (runtasks+0x410290)
    #5 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:317 (runtasks+0x410290)
    #6 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #7 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #8 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #9 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #11 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Mutex M1 (0x720c000002a0) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40f086) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40f086)
    #3 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:277 (runtasks+0x40f086)
    #4 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #6 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #7 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #9 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T1 (tid=1664108, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Thread T4 (tid=1664111, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/14/bits/hashtable.h:2071 in TaskSystemParallelThreadPoolSleeping::Run()
==================
==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Read of size 4 at 0x720400000808 by thread T1 (mutexes: write M0):
    #0 TaskSystemParallelThreadPoolSleeping::Run() /usr/include/c++/14/bits/stl_function.h:375 (runtasks+0x4107bd) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #3 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #4 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #5 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #6 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Previous write of size 8 at 0x720400000808 by thread T4 (mutexes: write M1):
    #0 operator new(unsigned long) <null> (libtsan.so.2+0xa0306) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::__new_allocator<std::__detail::_Hash_node<int, false> >::allocate(unsigned long, void const*) /usr/include/c++/14/bits/new_allocator.h:151 (runtasks+0x40f265) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::allocator_traits<std::allocator<std::__detail::_Hash_node<int, false> > >::allocate(std::allocator<std::__detail::_Hash_node<int, false> >&, unsigned long) /usr/include/c++/14/bits/alloc_traits.h:478 (runtasks+0x40f265)
    #3 std::__detail::_Hash_node<int, false>* std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<int, false> > >::_M_allocate_node<int const&>(int const&) /usr/include/c++/14/bits/hashtable_policy.h:2019 (runtasks+0x40f265)
    #4 std::__detail::_Hash_node<int, false>* std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > >::operator()<int const&>(int const&) const /usr/include/c++/14/bits/hashtable_policy.h:254 (runtasks+0x40f265)
    #5 std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > >::__node_ptr std::__detail::_NodeBuilder<std::__detail::_Identity>::_S_build<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable_policy.h:173 (runtasks+0x40f265)
    #6 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:2332 (runtasks+0x40f265)
    #7 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_aux<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:944 (runtasks+0x40f265)
    #8 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:956 (runtasks+0x40f265)
    #9 std::__detail::_Insert_base<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::insert(int const&) /usr/include/c++/14/bits/hashtable_policy.h:958 (runtasks+0x40f265)
    #10 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::insert(int const&) /usr/include/c++/14/bits/unordered_set.h:429 (runtasks+0x40f265)
    #11 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:283 (runtasks+0x40f265)
    #12 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #13 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #14 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #15 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #16 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #17 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Location is heap block of size 16 at 0x720400000800 allocated by thread T4:
    #0 operator new(unsigned long) <null> (libtsan.so.2+0xa0306) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::__new_allocator<std::__detail::_Hash_node<int, false> >::allocate(unsigned long, void const*) /usr/include/c++/14/bits/new_allocator.h:151 (runtasks+0x40f265) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::allocator_traits<std::allocator<std::__detail::_Hash_node<int, false> > >::allocate(std::allocator<std::__detail::_Hash_node<int, false> >&, unsigned long) /usr/include/c++/14/bits/alloc_traits.h:478 (runtasks+0x40f265)
    #3 std::__detail::_Hash_node<int, false>* std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<int, false> > >::_M_allocate_node<int const&>(int const&) /usr/include/c++/14/bits/hashtable_policy.h:2019 (runtasks+0x40f265)
    #4 std::__detail::_Hash_node<int, false>* std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > >::operator()<int const&>(int const&) const /usr/include/c++/14/bits/hashtable_policy.h:254 (runtasks+0x40f265)
    #5 std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > >::__node_ptr std::__detail::_NodeBuilder<std::__detail::_Identity>::_S_build<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable_policy.h:173 (runtasks+0x40f265)
    #6 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:2332 (runtasks+0x40f265)
    #7 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_aux<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:944 (runtasks+0x40f265)
    #8 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:956 (runtasks+0x40f265)
    #9 std::__detail::_Insert_base<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::insert(int const&) /usr/include/c++/14/bits/hashtable_policy.h:958 (runtasks+0x40f265)
    #10 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::insert(int const&) /usr/include/c++/14/bits/unordered_set.h:429 (runtasks+0x40f265)
    #11 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:283 (runtasks+0x40f265)
    #12 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #13 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #14 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #15 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #16 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #17 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Mutex M0 (0x720c00000120) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x410290) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x410290)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/14/bits/unique_lock.h:147 (runtasks+0x410290)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/14/bits/unique_lock.h:73 (runtasks+0x410290)
    #5 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:317 (runtasks+0x410290)
    #6 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #7 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #8 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #9 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #11 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Mutex M1 (0x720c000002a0) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40f086) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40f086)
    #3 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:277 (runtasks+0x40f086)
    #4 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #6 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #7 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #9 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T1 (tid=1664108, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Thread T4 (tid=1664111, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/14/bits/stl_function.h:375 in TaskSystemParallelThreadPoolSleeping::Run()
==================
Run()DEBUG=== Check finished, I have a task to go	Run()DEBUG=== Ready to push the task	deconstruct in subtask	deconstruct in subtask	deconstruct in subtask	Run()DEBUG=== I wake you up, sleepy thread!!!	deconstruct in taskstate	Run()DEBUG=== I go to sleep when waiting is empty	wake up in sleep	deconstruct in subtask	GOING TO SOLVE in sleep	WTF? Can anyone help me?	I run id = wake up in sleep	deconstruct in subtask	0wake up in sleep	deconstruct in subtask	, tot = 3	deconstruct in subtask	GOING TO SOLVE in sleep	WTF? Can anyone help me?	I run id = 1, tot = 3	deconstruct in subtask	==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Read of size 8 at 0x7214000000d0 by main threadGOING TO SOLVE in sleep	 (mutexes: write M0sleep in sleep	):
WTF? Can anyone help me?	I run id = 2, tot = 3	deconstruct in subtask	    #0 std::operator==(std::_Deque_iterator<Subtask, Subtask&, Subtask*> const&, std::_Deque_iterator<Subtask, Subtask&, Subtask*> const&) /usr/include/c++/14/bits/stl_deque.h:273 (runtasks+0x40ecb8) (BuildId: f975417767f960b483d416949a33e29a957997a7)
wake up in sleep	sleep in sleep	    #1 std::deque<Subtask, std::allocator<Subtask> >::empty() const /usr/include/c++/14/bits/stl_deque.h:1348 (runtasks+0x40ecb8)
    #2 std::queue<Subtask, std::deque<Subtask, std::allocator<Subtask> > >::empty() const /usr/include/c++/14/bits/stl_queue.h:217 (runtasks+0x40ecb8)
    #3 TaskSystemParallelThreadPoolSleeping::sync() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:412 (runtasks+0x40ecb8)
wake up in sleep	sleep in sleep	    #4 simpleTest(ITaskSystem*, bool) ../tests/tests.h:531 (runtasks+0x405e2b) (BuildId: f975417767f960b483d416949a33e29a957997a7)
wake up in sleep	    #5 simpleTestAsync(ITaskSystem*) ../tests/tests.h:567 (runtasks+0x406081) (BuildId: f975417767f960b483d416949a33e29a957997a7)
sleep in sleep	    #6 main ../tests/main.cpp:173 (runtasks+0x403c14) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Previous write of size 8 at 0x7214000000d0 by thread T1 (mutexes: write M1):
sleep in sleep	wake up in sleep	    #0 void std::deque<Subtask, std::allocator<Subtask> >::emplace_back<Subtask&>(Subtask&) /usr/include/c++/14/bits/deque.tcc:173 (runtasks+0x410b64) (BuildId: f975417767f960b483d416949a33e29a957997a7)
sleep in sleep	sleep in sleep	    #1 void std::queue<Subtask, std::deque<Subtask, std::allocator<Subtask> > >::emplace<Subtask&>(Subtask&) /usr/include/c++/14/bits/stl_queue.h:300 (runtasks+0x410b64)
    #2 TaskSystemParallelThreadPoolSleeping::Run() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:362 (runtasks+0x410b64)
    #3 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #4 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #5 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #6 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #8 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Location is heap block of size 80 at 0x7214000000a0 allocated by main thread:
    #0 operator new(unsigned long) <null> (libtsan.so.2+0xa0306) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 SubtaskBuffer::SubtaskBuffer() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:162 (runtasks+0x40de49) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 TaskSystemParallelThreadPoolSleeping::TaskSystemParallelThreadPoolSleeping(int) /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:206 (runtasks+0x40f9ac) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #4 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Mutex M0 (0x720c00000240) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40ec7f) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40ec7f)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/14/bits/unique_lock.h:147 (runtasks+0x40ec7f)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/14/bits/unique_lock.h:73 (runtasks+0x40ec7f)
    #5 TaskSystemParallelThreadPoolSleeping::sync() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:411 (runtasks+0x40ec7f)
    #6 simpleTest(ITaskSystem*, bool) ../tests/tests.h:531 (runtasks+0x405e2b) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #7 simpleTestAsync(ITaskSystem*) ../tests/tests.h:567 (runtasks+0x406081) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #8 main ../tests/main.cpp:173 (runtasks+0x403c14) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Mutex M1 (0x720c000001e0) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40ef08) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40ef08)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/14/bits/unique_lock.h:147 (runtasks+0x40ef08)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/14/bits/unique_lock.h:73 (runtasks+0x40ef08)
    #5 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:250 (runtasks+0x40ef08)
    #6 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #7 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #8 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #9 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #11 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T1 (tid=1664108, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/14/bits/stl_deque.h:273 in std::operator==(std::_Deque_iterator<Subtask, Subtask&, Subtask*> const&, std::_Deque_iterator<Subtask, Subtask&, Subtask*> const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Read of size 4 at 0x7208000003c0 by main thread:
    #0 simpleTest(ITaskSystem*, bool) ../tests/tests.h:549 (runtasks+0x405eb2) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 simpleTestAsync(ITaskSystem*) ../tests/tests.h:567 (runtasks+0x406081) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 main ../tests/main.cpp:173 (runtasks+0x403c14) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Previous write of size 4 at 0x7208000003c0 by thread T5 (mutexes: write M0):
    #0 SimpleMultiplyTask::runTask(int, int) ../tests/tests.h:150 (runtasks+0x40b025) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:280 (runtasks+0x40ee2b) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #4 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #5 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #7 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Location is heap block of size 24 at 0x7208000003c0 allocated by main thread:
    #0 operator new[](unsigned long) <null> (libtsan.so.2+0xa03f6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 simpleTest(ITaskSystem*, bool) ../tests/tests.h:514 (runtasks+0x405c4d) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 simpleTestAsync(ITaskSystem*) ../tests/tests.h:567 (runtasks+0x406081) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:173 (runtasks+0x403c14) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Mutex M0 (0x720c000002a0) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40f086) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40f086)
    #3 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:277 (runtasks+0x40f086)
    #4 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #6 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #7 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #9 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T5 (tid=1664112, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race ../tests/tests.h:549 in simpleTest(ITaskSystem*, bool)
==================
Deconstruct of the mission	==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Write of size 1 at 0x721000000108 by main thread:
    #0 TaskSystemParallelThreadPoolSleeping::~TaskSystemParallelThreadPoolSleeping() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:226 (runtasks+0x40e8db) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 TaskSystemParallelThreadPoolSleeping::~TaskSystemParallelThreadPoolSleeping() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:237 (runtasks+0x40eb05) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 main ../tests/main.cpp:190 (runtasks+0x403c50) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Previous read of size 1 at 0x721000000108 by thread T6:
    #0 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:261 (runtasks+0x40f677) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #3 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #4 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #5 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #6 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Location is heap block of size 56 at 0x721000000100 allocated by main thread:
    #0 operator new(unsigned long) <null> (libtsan.so.2+0xa0306) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051b1) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Thread T6 (tid=1664113, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:226 in TaskSystemParallelThreadPoolSleeping::~TaskSystemParallelThreadPoolSleeping()
==================
wake up in sleep	Run()DEBUG=== Someone wake me up. THX	wake up in sleep	wake up in sleep	==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Read of size 8 at 0x720400001800 by main thread:
    #0 std::__detail::_Hash_node<int, false>::_M_next() const /usr/include/c++/14/bits/hashtable_policy.h:387 (runtasks+0x40e997) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<int, false> > >::_M_deallocate_nodes(std::__detail::_Hash_node<int, false>*) /usr/include/c++/14/bits/hashtable_policy.h:2061 (runtasks+0x40e997)
    #2 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::clear() /usr/include/c++/14/bits/hashtable.h:2584 (runtasks+0x40e997)
    #3 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::~_Hashtable() /usr/include/c++/14/bits/hashtable.h:1667 (runtasks+0x40e997)
    #4 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::~unordered_set() /usr/include/c++/14/bits/unordered_set.h:104 (runtasks+0x40e997)
    #5 TaskSystemParallelThreadPoolSleeping::~TaskSystemParallelThreadPoolSleeping() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:232 (runtasks+0x40e997)
    #6 TaskSystemParallelThreadPoolSleeping::~TaskSystemParallelThreadPoolSleeping() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:237 (runtasks+0x40eb05) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #7 main ../tests/main.cpp:190 (runtasks+0x403c50) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Previous write of size 8 at 0x720400001800 by thread T3 (mutexes: write M0):
    #0 operator new(unsigned long) <null> (libtsan.so.2+0xa0306) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::__new_allocator<std::__detail::_Hash_node<int, false> >::allocate(unsigned long, void const*) /usr/include/c++/14/bits/new_allocator.h:151 (runtasks+0x40f265) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::allocator_traits<std::allocator<std::__detail::_Hash_node<int, false> > >::allocate(std::allocator<std::__detail::_Hash_node<int, false> >&, unsigned long) /usr/include/c++/14/bits/alloc_traits.h:478 (runtasks+0x40f265)
    #3 std::__detail::_Hash_node<int, false>* std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<int, false> > >::_M_allocate_node<int const&>(int const&) /usr/include/c++/14/bits/hashtable_policy.h:2019 (runtasks+0x40f265)
    #4 std::__detail::_Hash_node<int, false>* std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > >::operator()<int const&>(int const&) const /usr/include/c++/14/bits/hashtable_policy.h:254 (runtasks+0x40f265)
    #5 std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > >::__node_ptr std::__detail::_NodeBuilder<std::__detail::_Identity>::_S_build<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable_policy.h:173 (runtasks+0x40f265)
    #6 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:2332 (runtasks+0x40f265)
    #7 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_aux<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:944 (runtasks+0x40f265)
    #8 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:956 (runtasks+0x40f265)
    #9 std::__detail::_Insert_base<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::insert(int const&) /usr/include/c++/14/bits/hashtable_policy.h:958 (runtasks+0x40f265)
    #10 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::insert(int const&) /usr/include/c++/14/bits/unordered_set.h:429 (runtasks+0x40f265)
    #11 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:283 (runtasks+0x40f265)
    #12 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #13 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #14 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #15 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #16 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #17 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Location is heap block of size 16 at 0x720400001800 allocated by thread T3:
    #0 operator new(unsigned long) <null> (libtsan.so.2+0xa0306) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::__new_allocator<std::__detail::_Hash_node<int, false> >::allocate(unsigned long, void const*) /usr/include/c++/14/bits/new_allocator.h:151 (runtasks+0x40f265) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::allocator_traits<std::allocator<std::__detail::_Hash_node<int, false> > >::allocate(std::allocator<std::__detail::_Hash_node<int, false> >&, unsigned long) /usr/include/c++/14/bits/alloc_traits.h:478 (runtasks+0x40f265)
    #3 std::__detail::_Hash_node<int, false>* std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<int, false> > >::_M_allocate_node<int const&>(int const&) /usr/include/c++/14/bits/hashtable_policy.h:2019 (runtasks+0x40f265)
    #4 std::__detail::_Hash_node<int, false>* std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > >::operator()<int const&>(int const&) const /usr/include/c++/14/bits/hashtable_policy.h:254 (runtasks+0x40f265)
    #5 std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > >::__node_ptr std::__detail::_NodeBuilder<std::__detail::_Identity>::_S_build<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable_policy.h:173 (runtasks+0x40f265)
    #6 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:2332 (runtasks+0x40f265)
    #7 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_aux<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:944 (runtasks+0x40f265)
    #8 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:956 (runtasks+0x40f265)
    #9 std::__detail::_Insert_base<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::insert(int const&) /usr/include/c++/14/bits/hashtable_policy.h:958 (runtasks+0x40f265)
    #10 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::insert(int const&) /usr/include/c++/14/bits/unordered_set.h:429 (runtasks+0x40f265)
    #11 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:283 (runtasks+0x40f265)
    #12 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #13 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #14 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #15 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #16 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #17 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Mutex M0 (0x720c000002a0) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40f086) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40f086)
    #3 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:277 (runtasks+0x40f086)
    #4 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #6 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #7 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #9 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T3 (tid=1664110, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/14/bits/hashtable_policy.h:387 in std::__detail::_Hash_node<int, false>::_M_next() const
==================
==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Write of size 8 at 0x720400001808 by main thread:
    #0 operator delete(void*) <null> (libtsan.so.2+0x9f8ab) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::__new_allocator<std::__detail::_Hash_node<int, false> >::deallocate(std::__detail::_Hash_node<int, false>*, unsigned long) /usr/include/c++/14/bits/new_allocator.h:172 (runtasks+0x40e9a2) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::allocator_traits<std::allocator<std::__detail::_Hash_node<int, false> > >::deallocate(std::allocator<std::__detail::_Hash_node<int, false> >&, std::__detail::_Hash_node<int, false>*, unsigned long) /usr/include/c++/14/bits/alloc_traits.h:513 (runtasks+0x40e9a2)
    #3 std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<int, false> > >::_M_deallocate_node_ptr(std::__detail::_Hash_node<int, false>*) /usr/include/c++/14/bits/hashtable_policy.h:2051 (runtasks+0x40e9a2)
    #4 std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<int, false> > >::_M_deallocate_node(std::__detail::_Hash_node<int, false>*) /usr/include/c++/14/bits/hashtable_policy.h:2041 (runtasks+0x40e9a2)
    #5 std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<int, false> > >::_M_deallocate_nodes(std::__detail::_Hash_node<int, false>*) /usr/include/c++/14/bits/hashtable_policy.h:2062 (runtasks+0x40e9a2)
    #6 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::clear() /usr/include/c++/14/bits/hashtable.h:2584 (runtasks+0x40e9a2)
    #7 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::~_Hashtable() /usr/include/c++/14/bits/hashtable.h:1667 (runtasks+0x40e9a2)
    #8 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::~unordered_set() /usr/include/c++/14/bits/unordered_set.h:104 (runtasks+0x40e9a2)
    #9 TaskSystemParallelThreadPoolSleeping::~TaskSystemParallelThreadPoolSleeping() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:232 (runtasks+0x40e9a2)
    #10 TaskSystemParallelThreadPoolSleeping::~TaskSystemParallelThreadPoolSleeping() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:237 (runtasks+0x40eb05) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #11 main ../tests/main.cpp:190 (runtasks+0x403c50) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Previous write of size 8 at 0x720400001808 by thread T3 (mutexes: write M0):
    #0 operator new(unsigned long) <null> (libtsan.so.2+0xa0306) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::__new_allocator<std::__detail::_Hash_node<int, false> >::allocate(unsigned long, void const*) /usr/include/c++/14/bits/new_allocator.h:151 (runtasks+0x40f265) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::allocator_traits<std::allocator<std::__detail::_Hash_node<int, false> > >::allocate(std::allocator<std::__detail::_Hash_node<int, false> >&, unsigned long) /usr/include/c++/14/bits/alloc_traits.h:478 (runtasks+0x40f265)
    #3 std::__detail::_Hash_node<int, false>* std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<int, false> > >::_M_allocate_node<int const&>(int const&) /usr/include/c++/14/bits/hashtable_policy.h:2019 (runtasks+0x40f265)
    #4 std::__detail::_Hash_node<int, false>* std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > >::operator()<int const&>(int const&) const /usr/include/c++/14/bits/hashtable_policy.h:254 (runtasks+0x40f265)
    #5 std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > >::__node_ptr std::__detail::_NodeBuilder<std::__detail::_Identity>::_S_build<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable_policy.h:173 (runtasks+0x40f265)
    #6 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:2332 (runtasks+0x40f265)
    #7 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_aux<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:944 (runtasks+0x40f265)
    #8 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:956 (runtasks+0x40f265)
    #9 std::__detail::_Insert_base<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::insert(int const&) /usr/include/c++/14/bits/hashtable_policy.h:958 (runtasks+0x40f265)
    #10 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::insert(int const&) /usr/include/c++/14/bits/unordered_set.h:429 (runtasks+0x40f265)
    #11 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:283 (runtasks+0x40f265)
    #12 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #13 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #14 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #15 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #16 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #17 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Mutex M0 (0x720c000002a0) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40f086) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40f086)
    #3 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:277 (runtasks+0x40f086)
    #4 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #6 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #7 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #9 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T3 (tid=1664110, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race (/lib64/libtsan.so.2+0x9f8ab) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf) in operator delete(void*)
==================
wake up in sleep	wake up in sleep	wake up in sleep	wake up in sleep	==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Write of size 8 at 0x7210000001d8 by main thread:
    #0 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::clear() /usr/include/c++/14/bits/hashtable.h:2587 (runtasks+0x40e9e2) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::~_Hashtable() /usr/include/c++/14/bits/hashtable.h:1667 (runtasks+0x40e9e2)
    #2 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::~unordered_set() /usr/include/c++/14/bits/unordered_set.h:104 (runtasks+0x40e9e2)
    #3 TaskSystemParallelThreadPoolSleeping::~TaskSystemParallelThreadPoolSleeping() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:232 (runtasks+0x40e9e2)
    #4 TaskSystemParallelThreadPoolSleeping::~TaskSystemParallelThreadPoolSleeping() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:237 (runtasks+0x40eb05) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 main ../tests/main.cpp:190 (runtasks+0x403c50) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Previous write of size 8 at 0x7210000001d8 by thread T3 (mutexes: write M0):
    #0 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_node(unsigned long, unsigned long, std::__detail::_Hash_node<int, false>*, unsigned long) /usr/include/c++/14/bits/hashtable.h:2246 (runtasks+0x40f78a) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:2339 (runtasks+0x40f78a)
    #2 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_aux<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:944 (runtasks+0x40f78a)
    #3 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:956 (runtasks+0x40f78a)
    #4 std::__detail::_Insert_base<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::insert(int const&) /usr/include/c++/14/bits/hashtable_policy.h:958 (runtasks+0x40f78a)
    #5 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::insert(int const&) /usr/include/c++/14/bits/unordered_set.h:429 (runtasks+0x40f78a)
    #6 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:283 (runtasks+0x40f78a)
    #7 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #8 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #9 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #10 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #12 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Location is heap block of size 56 at 0x7210000001c0 allocated by main thread:
    #0 operator new(unsigned long) <null> (libtsan.so.2+0xa0306) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 TaskSystemParallelThreadPoolSleeping::TaskSystemParallelThreadPoolSleeping(int) /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:207 (runtasks+0x40f9c3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Mutex M0 (0x720c000002a0) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40f086) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40f086)
    #3 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:277 (runtasks+0x40f086)
    #4 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #6 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #7 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #9 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T3 (tid=1664110, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/14/bits/hashtable.h:2587 in std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::clear()
==================
==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Write of size 8 at 0x7210000001d0 by main thread:
    #0 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::clear() /usr/include/c++/14/bits/hashtable.h:2588 (runtasks+0x40e9f3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::~_Hashtable() /usr/include/c++/14/bits/hashtable.h:1667 (runtasks+0x40e9f3)
    #2 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::~unordered_set() /usr/include/c++/14/bits/unordered_set.h:104 (runtasks+0x40e9f3)
    #3 TaskSystemParallelThreadPoolSleeping::~TaskSystemParallelThreadPoolSleeping() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:232 (runtasks+0x40e9f3)
    #4 TaskSystemParallelThreadPoolSleeping::~TaskSystemParallelThreadPoolSleeping() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:237 (runtasks+0x40eb05) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 main ../tests/main.cpp:190 (runtasks+0x403c50) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Previous write of size 8 at 0x7210000001d0 by thread T3 (mutexes: write M0):
    #0 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_bucket_begin(unsigned long, std::__detail::_Hash_node<int, false>*) /usr/include/c++/14/bits/hashtable.h:856 (runtasks+0x40f7ba) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_node(unsigned long, unsigned long, std::__detail::_Hash_node<int, false>*, unsigned long) /usr/include/c++/14/bits/hashtable.h:2245 (runtasks+0x40f7ba)
    #2 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:2339 (runtasks+0x40f7ba)
    #3 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_aux<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:944 (runtasks+0x40f7ba)
    #4 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:956 (runtasks+0x40f7ba)
    #5 std::__detail::_Insert_base<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::insert(int const&) /usr/include/c++/14/bits/hashtable_policy.h:958 (runtasks+0x40f7ba)
    #6 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::insert(int const&) /usr/include/c++/14/bits/unordered_set.h:429 (runtasks+0x40f7ba)
    #7 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:283 (runtasks+0x40f7ba)
    #8 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #9 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #10 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #11 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #12 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #13 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Location is heap block of size 56 at 0x7210000001c0 allocated by main thread:
    #0 operator new(unsigned long) <null> (libtsan.so.2+0xa0306) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 TaskSystemParallelThreadPoolSleeping::TaskSystemParallelThreadPoolSleeping(int) /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:207 (runtasks+0x40f9c3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Mutex M0 (0x720c000002a0) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40f086) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40f086)
    #3 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:277 (runtasks+0x40f086)
    #4 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #6 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #7 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #9 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T3 (tid=1664110, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/14/bits/hashtable.h:2588 in std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::clear()
==================
==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Write of size 8 at 0x721c00000000 by main thread:
    #0 operator delete(void*) <null> (libtsan.so.2+0x9f8ab) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::__new_allocator<std::__detail::_Hash_node_base*>::deallocate(std::__detail::_Hash_node_base**, unsigned long) /usr/include/c++/14/bits/new_allocator.h:172 (runtasks+0x40ea15) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::allocator_traits<std::allocator<std::__detail::_Hash_node_base*> >::deallocate(std::allocator<std::__detail::_Hash_node_base*>&, std::__detail::_Hash_node_base**, unsigned long) /usr/include/c++/14/bits/alloc_traits.h:513 (runtasks+0x40ea15)
    #3 std::__detail::_Hashtable_alloc<std::allocator<std::__detail::_Hash_node<int, false> > >::_M_deallocate_buckets(std::__detail::_Hash_node_base**, unsigned long) /usr/include/c++/14/bits/hashtable_policy.h:2088 (runtasks+0x40ea15)
    #4 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_deallocate_buckets(std::__detail::_Hash_node_base**, unsigned long) /usr/include/c++/14/bits/hashtable.h:456 (runtasks+0x40ea15)
    #5 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_deallocate_buckets() /usr/include/c++/14/bits/hashtable.h:461 (runtasks+0x40ea15)
    #6 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::~_Hashtable() /usr/include/c++/14/bits/hashtable.h:1668 (runtasks+0x40ea15)
    #7 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::~unordered_set() /usr/include/c++/14/bits/unordered_set.h:104 (runtasks+0x40ea15)
    #8 TaskSystemParallelThreadPoolSleeping::~TaskSystemParallelThreadPoolSleeping() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:232 (runtasks+0x40ea15)
    #9 TaskSystemParallelThreadPoolSleeping::~TaskSystemParallelThreadPoolSleeping() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:237 (runtasks+0x40eb05) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #10 main ../tests/main.cpp:190 (runtasks+0x403c50) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Previous write of size 8 at 0x721c00000000 by thread T3 (mutexes: write M0):
    #0 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_bucket_begin(unsigned long, std::__detail::_Hash_node<int, false>*) /usr/include/c++/14/bits/hashtable.h:861 (runtasks+0x40f80e) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_node(unsigned long, unsigned long, std::__detail::_Hash_node<int, false>*, unsigned long) /usr/include/c++/14/bits/hashtable.h:2245 (runtasks+0x40f80e)
    #2 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:2339 (runtasks+0x40f80e)
    #3 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_aux<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:944 (runtasks+0x40f80e)
    #4 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:956 (runtasks+0x40f80e)
    #5 std::__detail::_Insert_base<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::insert(int const&) /usr/include/c++/14/bits/hashtable_policy.h:958 (runtasks+0x40f80e)
    #6 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::insert(int const&) /usr/include/c++/14/bits/unordered_set.h:429 (runtasks+0x40f80e)
    #7 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:283 (runtasks+0x40f80e)
    #8 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #9 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #10 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #11 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #12 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #13 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Mutex M0 (0x720c000002a0) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40f086) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40f086)
    #3 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:277 (runtasks+0x40f086)
    #4 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #6 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #7 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #9 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T3 (tid=1664110, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race (/lib64/libtsan.so.2+0x9f8ab) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf) in operator delete(void*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Write of size 8 at 0x7210000001e8 by main thread:
    #0 operator delete(void*) <null> (libtsan.so.2+0x9f8ab) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 TaskSystemParallelThreadPoolSleeping::~TaskSystemParallelThreadPoolSleeping() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:232 (runtasks+0x40ea1d) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 TaskSystemParallelThreadPoolSleeping::~TaskSystemParallelThreadPoolSleeping() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:237 (runtasks+0x40eb05) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:190 (runtasks+0x403c50) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Previous read of size 8 at 0x7210000001e8 by thread T4 (mutexes: write M0):
    #0 std::__detail::_Prime_rehash_policy::_M_state() const /usr/include/c++/14/bits/hashtable_policy.h:578 (runtasks+0x40f2a1) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #1 std::__detail::_RehashStateGuard<std::__detail::_Prime_rehash_policy>::_RehashStateGuard(std::__detail::_Prime_rehash_policy&) /usr/include/c++/14/bits/hashtable_policy.h:732 (runtasks+0x40f2a1)
    #2 std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_node(unsigned long, unsigned long, std::__detail::_Hash_node<int, false>*, unsigned long) /usr/include/c++/14/bits/hashtable.h:2230 (runtasks+0x40f2a1)
    #3 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique<int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:2339 (runtasks+0x40f2a1)
    #4 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert_unique_aux<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&) /usr/include/c++/14/bits/hashtable.h:944 (runtasks+0x40f2a1)
    #5 std::pair<std::__detail::_Node_iterator<int, true, false>, bool> std::_Hashtable<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::_M_insert<int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > >(int const&, std::__detail::_AllocNode<std::allocator<std::__detail::_Hash_node<int, false> > > const&, std::integral_constant<bool, true>) /usr/include/c++/14/bits/hashtable.h:956 (runtasks+0x40f2a1)
    #6 std::__detail::_Insert_base<int, int, std::allocator<int>, std::__detail::_Identity, std::equal_to<int>, std::hash<int>, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<false, true, true> >::insert(int const&) /usr/include/c++/14/bits/hashtable_policy.h:958 (runtasks+0x40f2a1)
    #7 std::unordered_set<int, std::hash<int>, std::equal_to<int>, std::allocator<int> >::insert(int const&) /usr/include/c++/14/bits/unordered_set.h:429 (runtasks+0x40f2a1)
    #8 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:283 (runtasks+0x40f2a1)
    #9 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #10 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #11 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #12 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #14 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Mutex M0 (0x720c000002a0) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40f086) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40f086)
    #3 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:277 (runtasks+0x40f086)
    #4 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #5 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #6 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #7 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #9 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T4 (tid=1664111, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race (/lib64/libtsan.so.2+0x9f8ab) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf) in operator delete(void*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=1664106)
  Write of size 8 at 0x720c00000270 by main thread:
    #0 pthread_cond_destroy <null> (libtsan.so.2+0x59d69) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::condition_variable::~condition_variable() <null> (libstdc++.so.6+0xdd6bc) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 TaskSystemParallelThreadPoolSleeping::~TaskSystemParallelThreadPoolSleeping() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:237 (runtasks+0x40eb05) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:190 (runtasks+0x403c50) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Previous read of size 8 at 0x720c00000270 by thread T7 (mutexes: write M0):
    #0 pthread_cond_wait <null> (libtsan.so.2+0x5a9f3) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::condition_variable::wait(std::unique_lock<std::mutex>&) <null> (libstdc++.so.6+0xdd6ff) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #4 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #5 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #7 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Location is heap block of size 48 at 0x720c00000270 allocated by main thread:
    #0 operator new(unsigned long) <null> (libtsan.so.2+0xa0306) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 TaskSystemParallelThreadPoolSleeping::TaskSystemParallelThreadPoolSleeping(int) /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:208 (runtasks+0x40fa50) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

  Mutex M0 (0x720c000001e0) created at:
    #0 pthread_mutex_lock <null> (libtsan.so.2+0x5970e) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 __gthread_mutex_lock /usr/include/c++/14/x86_64-redhat-linux/bits/gthr-default.h:762 (runtasks+0x40ef08) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #2 std::mutex::lock() /usr/include/c++/14/bits/std_mutex.h:113 (runtasks+0x40ef08)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/14/bits/unique_lock.h:147 (runtasks+0x40ef08)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/14/bits/unique_lock.h:73 (runtasks+0x40ef08)
    #5 TaskSystemParallelThreadPoolSleeping::sleepThread() /home/brianlee/Documents/hpc/cs149_asst2/part_b/tasksys.cpp:250 (runtasks+0x40ef08)
    #6 void std::__invoke_impl<void, void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(std::__invoke_memfun_deref, void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:74 (runtasks+0x4110a3) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #7 std::__invoke_result<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>::type std::__invoke<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*>(void (TaskSystemParallelThreadPoolSleeping::*&&)(), TaskSystemParallelThreadPoolSleeping*&&) /usr/include/c++/14/bits/invoke.h:96 (runtasks+0x4110a3)
    #8 void std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/14/bits/std_thread.h:301 (runtasks+0x4110a3)
    #9 std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> >::operator()() /usr/include/c++/14/bits/std_thread.h:308 (runtasks+0x4110a3)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (TaskSystemParallelThreadPoolSleeping::*)(), TaskSystemParallelThreadPoolSleeping*> > >::_M_run() /usr/include/c++/14/bits/std_thread.h:253 (runtasks+0x4110a3)
    #11 execute_native_thread_routine <null> (libstdc++.so.6+0xe7563) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)

  Thread T7 (tid=1664114, running) created by main thread at:
    #0 pthread_create <null> (libtsan.so.2+0x5a6e6) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xe7638) (BuildId: 79db3efd5f1273ca8c42abd22d1d9fd63cffe57c)
    #2 selectTaskSystemRefImpl(int, TaskSystemType) ../tests/main.cpp:44 (runtasks+0x4051be) (BuildId: f975417767f960b483d416949a33e29a957997a7)
    #3 main ../tests/main.cpp:170 (runtasks+0x403c0b) (BuildId: f975417767f960b483d416949a33e29a957997a7)

SUMMARY: ThreadSanitizer: data race (/lib64/libtsan.so.2+0x59d69) (BuildId: c8455fafa477dccacaa74df59b23caba0427f5bf) in pthread_cond_destroy
==================
terminate called without an active exception
